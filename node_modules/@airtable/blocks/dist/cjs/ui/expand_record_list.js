"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

require("core-js/modules/es.array.map");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _error_utils = require("../error_utils");

var _get_sdk = _interopRequireDefault(require("../get_sdk"));

/** @module @airtable/blocks/ui: expandRecordList */

/** */

/**
 * Expands a list of records in the Airtable UI.
 *
 * @param records The records to expand. Duplicate records will be removed.
 * @param opts An optional options object.
 *
 * @example
 * ```js
 * import {expandRecordList} from '@airtable/blocks/ui';
 * expandRecordList([record1, record2, record3]);
 *
 * expandRecordList([record1, record2], {
 *     fields: [field1, field2],
 * });
 * ```
 * @docsPath UI/utils/expandRecordList
 */
function expandRecordList(records, opts) {
  if (records.length === 0) {
    return;
  }

  var tableId = records[0].parentTable.id;
  var recordIds = records.map(record => {
    (0, _error_utils.invariant)(record.parentTable.id === tableId, 'all records must belong to the same table');
    return record.id;
  });
  var fieldIds = opts && opts.fields ? opts.fields.map(field => {
    (0, _error_utils.invariant)(field.parentTable.id === tableId, 'all fields must belong to the same table');
    return field.id;
  }) : null;

  (0, _get_sdk.default)().__airtableInterface.expandRecordList(tableId, recordIds, fieldIds);
}

var _default = expandRecordList;
exports.default = _default;